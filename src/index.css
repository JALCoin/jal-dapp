/* =============================================================================
   JAL/SOL â€” Global CSS
   Sections:
   00. Tokens + Resets
   01. Foundations
   02. Motion / A11y
   03. Header
   04. Sidebar
   05. Landing + Hub
   06. Components (Buttons, Chips, Cards, Links)
   07. Shop
   08. Vault
   09. Overlays & Modals
   10. Quick Dock
   11. Responsive / Trims
   12. Simple Landing (BUY / SWAP / SELL)
   13. Identity Profile Card
   14. Crypto Generator Panel
   ========================================================================== */

/* === 00. TOKENS + RESETS =============================================== */

:root{
  /* Colors */
  --bg:#07090c; --bg-2:#0b0f14; --surface:#0f141b;
  --text:#e7fff7; --muted:#c8ffe9;
  --green:#11f1a7; --cyan:#00f0ff; --gold:#f4c86a;

  /* Strokes / Glows */
  --stroke: rgba(255,255,255,.14);
  --stroke-2: rgba(255,255,255,.28);
  --glow-green: 0 0 16px rgba(17,241,167,.55), 0 0 32px rgba(17,241,167,.35);
  --glow-cyan:  0 0 16px rgba(0,240,255,.55), 0 0 32px rgba(0,240,255,.35);
  --glow-gold:  0 0 14px rgba(244,200,106,.55), 0 0 26px rgba(244,200,106,.35);
  --glow-white: 0 0 12px rgba(255,255,255,.45), 0 0 24px rgba(255,255,255,.25);

  /* Glass */
  --glass: rgba(10,14,18,.28);
  --panel-bg: rgba(13,18,24,.96);

  /* Shape / Motion */
  --r-sm:10px; --r-md:16px; --r-lg:20px;
  --blur:10px;
  --t-fast:140ms; --t-med:260ms; --t-slow:480ms;

  /* Layout */
  --max-w:1200px;
  --header-h:88px;
  --tabbar-h:0px; /* No footer */

  /* Safe areas */
  --safe-top: max(var(--header-h), env(safe-area-inset-top, 0px));
  --safe-bottom: calc(var(--tabbar-h) + env(safe-area-inset-bottom, 0px));

  /* Hit targets */
  --pill-py:.68rem; --pill-px:1.1rem; --pill-min:44px;

  /* Spacing */
  --gutter:16px; --gutter-lg:24px; --section-gap:24px;

  /* Background recipes */
  --bg-hero: radial-gradient(1000px 600px at 50% -200px, #0e141b 0%, #07090c 55%, #05070a 100%), var(--bg);
  --bg-hero-sm: radial-gradient(900px 540px at 50% -200px, #0e141b 0%, #07090c 55%, #05070a 100%), var(--bg);
}

*,*::before,*::after{ box-sizing:border-box }
html,body,#root{ min-height:100% }
html,body{
  margin:0; padding:0; color:var(--text);
  background: var(--bg-hero);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial, "Noto Sans";
  line-height:1.6; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  overflow-x:hidden;
}
img{ display:block; max-width:100% }
img,svg{ shape-rendering:geometricPrecision }
a{ color:inherit; text-decoration:none }
button{ font:inherit; color:inherit; background:none; border:none; cursor:pointer }
:focus-visible{ outline:2px solid var(--green); outline-offset:2px }
.sr-only{
  position:absolute!important; width:1px;height:1px; padding:0;margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* === 01. FOUNDATIONS ==================================================== */

.container{ width:min(100% - 2rem, var(--max-w)); margin-inline:auto }
.muted{ opacity:.75 }

.app-shell{ min-height:100svh; position:relative }
.page{ min-height: calc(100svh - var(--header-h)); position:relative; z-index:1 }
.glass{ backdrop-filter: blur(var(--blur)); background: var(--glass) }

body[data-wallet-visible="true"],
body[data-menu-open="true"],
body[data-hub-open="true"]{ overflow:hidden }

main[role="main"]{
  min-height: calc(100lvh - var(--header-h));
  padding-bottom: env(safe-area-inset-bottom, 0px);
  display:flex; flex-direction:column;
}
@supports not (height: 100lvh){
  main[role="main"]{ min-height: calc(100dvh - var(--header-h)) }
}

/* Poster art helper */
.has-art{ position:relative; overflow:hidden; isolation:isolate }
.has-art::after{
  content:""; position:absolute; inset:-1px; z-index:0; border-radius:inherit;
  background:
    radial-gradient(1200px 800px at var(--art-pos, 50% 50%), rgba(255,255,255,.06), rgba(255,255,255,0)),
    var(--art-img, none);
  background-size:auto, var(--art-zoom, 220%);
  background-repeat:no-repeat;
  background-position:0 0, var(--art-pos, 50% 50%);
  mask-image: linear-gradient(180deg, rgba(0,0,0,.4), rgba(0,0,0,0) 85%);
  opacity:.22; pointer-events:none;
}

/* === 02. MOTION / A11y ================================================= */

@media (prefers-reduced-motion: reduce){
  .hamburger span, .hamburger, .sidebar-nav, .sidebar-overlay,
  .button, .card, .img-btn, .tv-bg iframe, .bg-layer { transition:none; animation:none }
}

/* === 03. HEADER ========================================================= */

.site-header{
  position:sticky; top:0; z-index:40;
  background: linear-gradient(180deg, rgba(10,14,18,.72), rgba(10,14,18,.18));
  backdrop-filter: blur(var(--blur));
  border-bottom:1px solid var(--stroke);
  height: var(--header-h);
}
.header-inner{
  width:min(var(--max-w), 100%);
  margin-inline:auto;
  padding: clamp(.75rem, 1.8vw, 1rem);
  display:grid; align-items:center;
  grid-template-columns: 1fr auto 1fr; /* socials | logo | hamburger */
  gap:12px;
}
.social-links{ display:flex; align-items:center; gap:10px }
.social-links a{
  inline-size:36px; block-size:36px; display:grid; place-items:center;
  border:1px solid var(--stroke); border-radius:var(--r-sm);
  transition: transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast);
}
.social-links a:hover{ transform:translateY(-2px); border-color:var(--green); box-shadow:var(--glow-green) }
.social-links img{ inline-size:18px; block-size:18px; object-fit:contain }

.logo.header-logo{
  block-size:clamp(68px,9.5vw,96px);
  filter: drop-shadow(0 0 10px rgba(255,255,255,.7));
  margin-inline:auto; cursor:pointer;
  transition: transform var(--t-fast), filter var(--t-fast);
}
.logo.header-logo:hover { transform: translateY(-1px); filter: drop-shadow(0 0 12px rgba(255,255,255,.9)) }

.main-nav{ display:none!important }

.hamburger{
  justify-self:end; inline-size:44px; block-size:44px; border-radius:var(--r-sm);
  border:1px solid var(--stroke); display:grid; place-items:center;
  transition: border-color var(--t-fast), box-shadow var(--t-fast), transform var(--t-fast);
}
.hamburger:hover{ transform:translateY(-1px); border-color:var(--cyan); box-shadow:var(--glow-cyan) }
.hamburger span{
  display:block; inline-size:22px; block-size:2px; background:#fff; border-radius:2px; position:relative;
  transition: transform var(--t-med), opacity var(--t-med);
}
.hamburger span + span{ margin-top:6px }
.hamburger.is-open span:nth-child(1){ transform:translateY(8px) rotate(45deg) }
.hamburger.is-open span:nth-child(2){ opacity:0 }
.hamburger.is-open span:nth-child(3){ transform:translateY(-8px) rotate(-45deg) }

/* === 04. SIDEBAR ======================================================== */

.sidebar-overlay{
  position:fixed; inset:0; z-index:45; background: rgba(0,0,0,.55);
  backdrop-filter: blur(2px); animation: overlayIn var(--t-slow) both;
}
@keyframes overlayIn{ from{ opacity:0 } to{ opacity:1 } }

.sidebar-nav{
  position:fixed; inset:auto 0 0 auto; inline-size:min(88vw,380px); z-index:46;
  background: linear-gradient(180deg, rgba(13,18,24,.96), rgba(10,14,18,.9));
  border-inline-start:1px solid var(--stroke-2);
  backdrop-filter: blur(var(--blur));
  transform: translateX(100%);
  animation: drawerIn var(--t-slow) cubic-bezier(.22,.61,.36,1) forwards;
  display:flex; flex-direction:column; gap:8px; padding:20px;
}
.sidebar-nav nav{ display:grid; gap:10px }
@keyframes drawerIn{ to{ transform: translateX(0) } }

.sidebar-nav .nav-link{
  display:block;
  padding:.9rem 1rem; border-radius: var(--r-md);
  border:1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0));
  transition: transform var(--t-fast), box-shadow var(--t-fast), border-color var(--t-fast);
}
.sidebar-nav .nav-link:hover{ transform: translateX(2px); border-color: var(--green); box-shadow: var(--glow-green) }
.sidebar-nav .nav-link.active{ border-color: var(--gold); box-shadow: var(--glow-gold) }

.wallet-disconnect-btn{
  margin-top:8px; padding:.75rem 1rem; border-radius: var(--r-md);
  border:1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  transition: transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast);
}
.wallet-disconnect-btn:hover{ transform: translateY(-1px); border-color: var(--green); box-shadow: var(--glow-green) }

/* === 05. LANDING + HUB ================================================== */

.landing-gradient{ min-height:100dvh; background: var(--bg-hero-sm); position:relative; z-index:1 }
.landing-merge .landing-logo{ filter: drop-shadow(0 0 20px rgba(255,255,255,.45)) }

.hub-dashboard{
  width:min(100% - 2rem, var(--max-w)); margin-inline:auto;
  display:grid; gap: var(--section-gap);
  padding: clamp(24px, 4vw, 36px) var(--gutter) 12px;
}
.hub-dashboard .bank-status{ display:flex; align-items:center; justify-content:center; gap:10px; opacity:.9 }
.hub-dashboard .balance-row{ display:flex; flex-wrap:wrap; justify-content:center; gap: var(--gutter) }
.hub-dashboard .balance-card{
  min-width: 240px; padding: 14px 16px;
  border:1px solid var(--stroke); border-radius: var(--r-lg);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
  box-shadow: 0 10px 30px rgba(0,0,0,.55);
}
.hub-dashboard .balance-amount{ font-size: clamp(1.15rem, 2.8vw, 1.5rem); font-weight:700 }
.hub-dashboard .balance-label{ opacity:.85; font-size:.92rem }
.hub-dashboard .feature-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: var(--gutter); align-items:stretch }
.hub-dashboard .feature-card{
  position:relative; min-height:160px; padding:16px;
  border:1px solid var(--stroke); border-radius: var(--r-lg);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
  display:grid; align-content:space-between;
  transition: transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast);
}
.hub-dashboard .feature-card:hover{ transform: translateY(-2px); border-color: var(--green); box-shadow: var(--glow-green) }
.hub-dashboard .feature-card .title{ opacity:.9; margin-top:2px }
.hub-dashboard .feature-card .icon{ justify-self:end; opacity:.95 }

.landing-social{ display:flex; gap:10px; justify-content:center; align-items:center; padding-top:18px }
.landing-social a{
  inline-size:36px; block-size:36px; display:grid; place-items:center;
  border:1px solid var(--stroke); border-radius:10px;
  transition:transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast);
}
.landing-social a:hover{ transform:translateY(-1px); border-color:var(--green); box-shadow:var(--glow-green) }
.landing-disconnect{ display:flex; justify-content:center; margin:10px 0 }
.landing-inner{ display:grid; place-items:center; gap:16px; padding:clamp(24px,6vw,40px) 16px 12px; text-align:center }
.landing-logo{ block-size:clamp(110px,20vw,180px); filter: drop-shadow(0 0 10px rgba(255,255,255,.65)) }
.landing-logo-wrapper.wallet-connected .landing-logo{ filter: drop-shadow(0 0 14px rgba(255,255,255,.82)) }

/* Hub Panel */
.hub-panel{
  width:min(100% - 2rem, 1100px); margin:16px auto 24px;
  max-height:min(88dvh, 880px); display:flex; flex-direction:column; position:relative; overflow:hidden;
  border:1px solid var(--stroke-2); border-radius:var(--r-lg);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
  box-shadow: 0 20px 80px rgba(0,0,0,.7), var(--glow-gold);
}
.hub-panel--fit{ width:min(100% - 2rem, 1100px) }
.hub-panel-top{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:14px 16px; border-bottom:1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(12,16,22,.45), rgba(12,16,22,0));
}
.hub-title{ margin:0; font-size:clamp(1.1rem,2vw,1.35rem); text-shadow:0 0 12px rgba(255,255,255,.35) }
.hub-panel-body{ overflow:auto; overscroll-behavior:contain; padding:18px; display:grid; gap:18px; grid-template-rows:auto 1fr }

/* Sheet */
.hub-sheet{
  width:min(100% - 1.5rem, 1100px); max-height:min(88svh, 900px);
  display:flex; flex-direction:column; overflow:auto;
  border:1px solid var(--stroke-2); border-radius:var(--r-lg);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
  box-shadow: 0 20px 80px rgba(0,0,0,.7), var(--glow-gold);
}

/* Tiles */
.hub-stack{ position:relative; display:grid; gap:clamp(12px,2vw,18px); grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); z-index:1 }
.hub-stack::before{ content:""; position:absolute; inset:0; border-radius:var(--r-lg); box-shadow: inset 0 0 40px rgba(17,241,167,.08); pointer-events:none }
.hub-stack--responsive{ align-items:start }

.img-btn{
  position:relative; border-radius:var(--r-lg); overflow:hidden; aspect-ratio:16/10;
  border:1px solid var(--stroke); background:#0b0f14; min-height:180px;
  transition:transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast);
}
.img-btn:hover{ transform:translateY(-2px); border-color:var(--green); box-shadow:var(--glow-green) }
.img-btn[disabled]{ cursor:not-allowed; opacity:.55; filter:grayscale(.6); transform:none!important; box-shadow:none!important; border-color:var(--stroke)!important }
.hub-gif{ position:absolute; inset:0; inline-size:100%; block-size:100%; object-fit:cover; opacity:.95 }
.hub-btn{ position:absolute; inset-inline-start:12px; inset-block-end:10px; font-weight:600; padding:.4rem .65rem; border-radius:999px; border:1px solid rgba(255,255,255,.2); background:rgba(0,0,0,.5); backdrop-filter:blur(6px) }
.hub-btn .sub{ display:block; font-weight:400; opacity:.8; margin-top:2px }
.hub-btn .locked{ display:block; font-size:.8rem; margin-top:4px; opacity:.8; color:var(--muted) }

.hub-content{ display:grid; gap:18px }
.hub-controls{ display:flex; justify-content:flex-start; margin-bottom:8px }
.hub-controls .button, .hub-controls .wallet-disconnect-btn{ padding:.55rem .8rem; border-radius:12px }

.in-hub{ position:relative; z-index:5; isolation:isolate }
.in-hub > *{ position:relative; z-index:6 }
.hub-preview{ box-shadow: 0 16px 48px rgba(0,0,0,.6), 0 0 12px rgba(244,200,106,.25); margin-bottom: calc(var(--tabbar-h) + env(safe-area-inset-bottom, 0px) + 16px) }

/* JAL panel bits */
.jal-title{ margin:0; font-size:clamp(1.3rem,2.8vw,1.6rem); letter-spacing:.02em }
.jal-subtitle{ margin:.25rem 0 0; opacity:.85 }
.jal-actions{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-top:10px }
.jal-chip{ display:inline-flex; align-items:center; padding:.45rem .7rem; border:1px solid var(--stroke); border-radius:999px; background:rgba(0,0,0,.35); font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace }
.jal-btn{ display:inline-flex; align-items:center; gap:8px; padding:.55rem .85rem; border:1px solid var(--stroke); border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)); transition:transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast) }
.jal-btn:hover{ transform:translateY(-1px); border-color:var(--cyan); box-shadow:var(--glow-cyan) }
.jal-btn--primary{ border-color:rgba(244,200,106,.5); box-shadow:var(--glow-gold) }

/* Foreground swap layer */
.swap-layer{
  position:fixed; inset:0; z-index:0;
  opacity:.35; transform:scale(1.02);
  pointer-events:none; border:0;
  transition: all 450ms cubic-bezier(.22,.61,.36,1);
  filter: brightness(0.9) contrast(1.05) saturate(1.15);
}
.swap-layer--active{ z-index:200; opacity:1; transform:scale(1); pointer-events:auto; filter:none }
.swap-close{ position:fixed; z-index:210; top:14px; right:14px }

/* Embedded swap */
.swap-embed-card{ padding: clamp(.75rem, 2vw, 1rem) }
.swap-embed-header{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:10px }
.swap-embed-wrap{
  position:relative; inline-size:100%;
  block-size: clamp(520px, 70vh, 760px); min-block-size:520px;
  border-radius: var(--r-lg); overflow:hidden; border:1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01));
  box-shadow: 0 8px 30px rgba(0,0,0,.55);
}
.swap-embed-iframe{ position:absolute; inset:0; inline-size:100%; block-size:100%; border:0; background:transparent; transition:opacity var(--t-med) ease }
.swap-embed-wrap.loading .swap-embed-iframe{ opacity:0 }
@media (max-width:640px){ .swap-embed-wrap{ block-size: min(72vh, 620px); min-block-size: 440px } }
.swap-embed-hint{ margin-top:10px; opacity:.85; font-size:.9rem }
.swap-embed-hint a{ text-decoration: underline }

/* Landing background layers */
.bg-layer{ position:fixed; inset:0; z-index:0; pointer-events:none }
.tv-bg{ position:fixed; inset:0; z-index:0; overflow:hidden; opacity:.92; filter: saturate(1.05) contrast(1.02) }
.tv-bg iframe{ position:absolute; inset:-2%; width:104%; height:104%; border:0; pointer-events:none; transition:opacity var(--t-med), transform var(--t-slow) }
.bg-scrim{ position:fixed; inset:0; z-index:0; pointer-events:none; background: radial-gradient(1000px 600px at 50% -220px, rgba(7,9,12,.25), rgba(7,9,12,.68) 55%, rgba(7,9,12,.85)); backdrop-filter: blur(2px) }

/* Optional bottom-center nav */
.bottom-nav{ position:fixed; left:50%; bottom:20px; transform:translateX(-50%); z-index:30; border-radius:999px; padding:6px 12px; backdrop-filter: blur(var(--blur)); background: var(--glass); border:1px solid var(--stroke); display:flex; gap:10px }
.bottom-nav a{ padding:.5rem .85rem; border-radius:999px; border:1px solid var(--stroke); transition: transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast) }
.bottom-nav a:hover{ transform:translateY(-1px); border-color:var(--cyan); box-shadow:var(--glow-cyan) }

/* === 06. COMPONENTS ===================================================== */

.button{
  display:inline-flex; align-items:center; justify-content:center;
  padding:.85rem 1.05rem; border-radius:var(--r-md);
  border:1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  transition: transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast), background var(--t-fast);
}
.button:hover{ transform: translateY(-1px) }
.button:active{ transform: translateY(1px) scale(.98); box-shadow:none }
.button.ghost{ background:transparent }
.button.neon{ border-color:rgba(17,241,167,.5); box-shadow:var(--glow-green) }
.button.gold{ border-color:rgba(244,200,106,.5); box-shadow:var(--glow-gold) }

.card{
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
  border:1px solid var(--stroke); border-radius:var(--r-lg);
  padding: clamp(1rem, 2.5vw, 1.25rem);
  box-shadow: 0 10px 30px rgba(0,0,0,.55);
  transition: border-color var(--t-fast), box-shadow var(--t-fast), transform var(--t-fast);
}
.card:hover{ border-color:var(--green); box-shadow:var(--glow-green); transform:translateY(-2px) }
.card.gold:hover{ border-color:var(--gold); box-shadow:var(--glow-gold) }
.card.cyan:hover{ border-color:var(--cyan); box-shadow:var(--glow-cyan) }

/* Pills */
.chip-row{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; position:relative; isolation:isolate; z-index:2 }
.chip, .button, .jal-link,
.trust-strip .chip, .trust-strip .button, .trust-strip .jal-link{
  position:relative; z-index:3; pointer-events:auto;
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  min-height: var(--pill-min);
  padding-block: var(--pill-py);
  padding-inline: var(--pill-px);
  border:1px solid var(--stroke); border-radius:999px;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  font-size:.9rem; opacity:.95;
  transition: transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast);
  cursor:pointer; touch-action:manipulation; -webkit-tap-highlight-color:transparent;
}
.chip:hover, .button:hover { transform:translateY(-1px); border-color:var(--cyan); box-shadow:var(--glow-cyan) }
.chip.active{ border-color: rgba(17,241,167,.45); box-shadow: var(--glow-green) }

.chip.sm{ padding:.38rem .6rem; min-height:36px; font-size:.85rem }
.chip.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace }
.chip .dot{ inline-size:10px; block-size:10px; border-radius:50%; background:#8a8a8a }
.chip .dot.ok{ background:#23d18b }
.chip .dot.warn{ background:#f4c86a }
.chip .dot.down{ background:#ff6b6b }

/* Trust Strip */
.trust-strip{
  width: min(100% - 2rem, var(--max-w));
  margin: 12px auto 0;
  display:flex; flex-wrap:wrap; gap:14px;
  justify-content:center; align-items:center;
  position:relative; isolation:isolate; z-index:2;
}
.trust-strip a,
.trust-strip button,
.trust-strip .chip,
.trust-strip .jal-link,
.trust-strip .button{
  display:inline-flex!important;
  align-items:center; justify-content:center; gap:8px;
  padding:.75rem 1.4rem!important;
  min-height:44px!important; min-width:64px;
  border-radius:999px; line-height:1.2; font-size:.95rem;
  position:relative; z-index:3; pointer-events:auto;
}

/* === 07. SHOP =========================================================== */

.shop-promo{
  position:relative; margin-top:12px; border:1px solid var(--stroke);
  border-radius:var(--r-lg);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  box-shadow:0 10px 30px rgba(0,0,0,.55), 0 0 0 1px rgba(244,200,106,.12) inset; overflow:hidden;
}
.shop-promo.has-art::after{ opacity:.28; filter:saturate(1.05) contrast(1.02) }
.shop-promo-inner{ position:relative; z-index:1; padding:clamp(14px, 3vw, 18px); display:grid; gap:8px }
.promo-head{ display:flex; align-items:center; gap:10px }
.promo-badge{ padding:.28rem .55rem; font-size:.75rem; letter-spacing:.06em; border-radius:999px; border:1px solid rgba(244,200,106,.5); color:var(--gold); box-shadow:var(--glow-gold); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,0)) }
.promo-title{ margin:0; font-weight:700; font-size:clamp(1.05rem, 2.2vw, 1.25rem) }
.promo-sub{ margin:2px 0 0; opacity:.9 }
.cta-group{ display:flex; flex-wrap:wrap; gap:10px; margin-top:8px }

.product-grid{ display:grid; gap:16px; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)) }
.product-card{ border:1px solid var(--stroke); border-radius: var(--r-lg); background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015)); box-shadow: 0 10px 26px rgba(0,0,0,.5); overflow:hidden; transition: transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast); display:flex; flex-direction:column; min-height:100% }
.product-card:hover{ transform: translateY(-2px); border-color: var(--green); box-shadow: var(--glow-green) }
.product-media{ position:relative; aspect-ratio: 4 / 3; background:#0b0f14 }
.product-media img{ position:absolute; inset:0; inline-size:100%; block-size:100%; object-fit:cover; opacity:.96 }
.product-media.noimg{ background: linear-gradient(110deg, rgba(255,255,255,.06) 8%, rgba(255,255,255,.12) 18%, rgba(255,255,255,.06) 33%) 0 0 / 200% 100%, #0b0f14; animation: shopShimmer 2.2s linear infinite }
@keyframes shopShimmer{ 0%{background-position:200% 0} 100%{background-position:-200% 0} }

.badge{ position:absolute; inset-block-start:10px; inset-inline-start:10px; padding:.28rem .55rem; font-size:.8rem; border-radius:999px; border:1px solid var(--stroke); background: rgba(0,0,0,.5); backdrop-filter: blur(6px) }
.badge.soon{ color: var(--gold); border-color: rgba(244,200,106,.5); box-shadow: var(--glow-gold) }

.product-body{ padding:12px; display:grid; gap:10px; grid-template-rows:auto auto 1fr auto }
.product-title{ margin:0 }
.product-blurb{ opacity:.85; font-size:.92rem }
.product-price{ display:flex; align-items:center; gap:10px }
.product-price .price-jal{ font-weight:700 }
.product-price .muted{ opacity:.8 }

.shop-controls{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; margin-top:10px }
.shop-controls .chip-row{ flex:1 1 auto }
.shop-search{ flex:0 0 220px; min-inline-size:180px; padding:.55rem .7rem; border:1px solid var(--stroke); border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)); color:var(--text) }
.button[aria-disabled="true"]{ opacity:.65; cursor:not-allowed; box-shadow:none; border-color:var(--stroke) }
.button[aria-disabled="true"]:hover{ transform:none }
.shop-notice{ margin-top:10px; padding:.6rem .8rem; border:1px solid rgba(244,200,106,.5); border-radius:12px; box-shadow: var(--glow-gold); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)) }
.shop-notice.soon{ color:var(--gold) }
.product-empty{ padding:12px 0 }
@media (min-width:1200px){ .product-grid{ grid-template-columns: repeat(4, 1fr) } }

/* === 08. VAULT ========================================================== */

.machine-bg{ position: fixed; inset: 0; z-index: 0; pointer-events: none; background: radial-gradient(900px 520px at 50% -180px, rgba(17,241,167,.08), rgba(0,0,0,0) 55%) , radial-gradient(680px 420px at 100% 20%, rgba(0,240,255,.08), rgba(0,0,0,0) 60%) , radial-gradient(720px 520px at 0% 30%, rgba(244,200,106,.08), rgba(0,0,0,0) 60%); filter: blur(6px) }

.vault-screen{ position: relative; z-index: 1; display: grid; place-items: center; gap: 12px; padding: 16px }
.vault-title{ margin: 10px 0 2px; font-size: clamp(2rem, 6vw, 3rem); letter-spacing: .04em; text-shadow: var(--glow-white) }

.logo-circle{ inline-size: clamp(140px, 28vw, 220px); block-size: clamp(140px, 28vw, 220px); border-radius: 50%; border: 1px solid var(--stroke-2); background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)); box-shadow: 0 12px 40px rgba(0,0,0,.55); display: grid; place-items: center; transition: border-color var(--t-fast), box-shadow var(--t-fast), transform var(--t-fast) }
.logo-circle.wallet-connected{ border-color: rgba(17,241,167,.5); box-shadow: var(--glow-green), 0 12px 40px rgba(0,0,0,.55); transform: translateY(-1px) }
.vault-logo-inner{ font-weight: 800; letter-spacing: .06em; color: var(--text); text-shadow: var(--glow-white) }

.vault-slogan{ margin: 6px 0 2px; font-size: clamp(1rem, 3.2vw, 1.25rem); opacity: .9 }
.vault-subtext{ opacity: .9 }

.vault-button{ display: inline-flex; align-items: center; justify-content: center; padding: .85rem 1.05rem; border-radius: var(--r-md); border: 1px solid var(--stroke); background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)); transition: transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast); text-align: center }
.vault-button:hover{ transform: translateY(-1px); border-color: var(--green); box-shadow: var(--glow-green) }
.vault-cta-container{ margin-top: 10px }

.card .chip-row .chip { padding: .4rem .65rem }
.mono-sm{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size: .9em; opacity: .95 }

/* === 09. OVERLAYS & MODALS ============================================= */

.hub-overlay{ position: fixed; inset: 0; z-index: 98; background: rgba(0,0,0,.55); backdrop-filter: blur(2px); animation: overlayIn var(--t-slow) both }

.hub-panel--overlay{
  position: fixed;
  inset-block-start: calc(var(--safe-top) + 6px);
  inset-block-end: calc(var(--safe-bottom) + 6px);
  inset-inline: 0; margin-inline:auto; width: min(100% - 1.5rem, 1100px);
  transform:none; margin-block:0; z-index: 99;
}
.hub-panel--overlay.hub-panel{ margin-inline:auto }

body[data-hub-open="true"] .tabbar,
body[data-hub-open="true"] .site-header{ pointer-events:none }

.modal-overlay{ position:fixed; inset:0; z-index:60; background: rgba(0,0,0,.55); backdrop-filter: blur(2px); display:grid; place-items:center }
.modal-card{ inline-size:min(92vw, 560px); border:1px solid var(--stroke-2); border-radius:20px; background:linear-gradient(180deg, rgba(13,18,24,.96), rgba(10,14,18,.9)); box-shadow:0 20px 80px rgba(0,0,0,.7); padding:18px }

/* === 10. QUICK DOCK ===================================================== */

.quick-dock{
  position:fixed; right:16px;
  bottom: calc(var(--tabbar-h) + max(16px, env(safe-area-inset-bottom)));
  z-index:1000; display:grid; gap:10px; padding:12px;
  border:1px solid var(--stroke-2); border-radius:var(--r-lg);
  background: linear-gradient(180deg, rgba(13,18,24,.96), rgba(10,14,18,.9));
  backdrop-filter: blur(var(--blur));
  box-shadow: 0 18px 60px rgba(0,0,0,.65), var(--glow-gold);
}
.quick-dock .chip, .quick-dock .button{ padding:.6rem .9rem; min-height:40px }
body[data-hub-open="true"] .quick-dock{ pointer-events:auto }

/* === 11. RESPONSIVE / TRIMS ============================================ */

.tabbar{ display:none !important; }

@media (max-width:680px){
  .hub-panel--overlay { padding-inline: max(12px, env(safe-area-inset-left)) max(12px, env(safe-area-inset-right)) }
  .shop-promo, .shop-promo .shop-promo-inner, .shop-promo .product-grid { inline-size: 100%; max-inline-size: 100%; min-inline-size: 0 }
  .shop-promo .product-grid { grid-template-columns: 1fr; gap:12px }
  .product-grid { grid-template-columns: 1fr; gap:12px }
  .card, .product-card { max-inline-size:100%; min-inline-size:0; overflow:hidden }
  .product-media img, .hub-gif { max-inline-size:100%; block-size:auto }
  .chip-row { flex-wrap:wrap; gap:8px }
  .landing-wallet{ padding:1rem 1.25rem; font-size:1rem }
  .img-btn{ min-height:160px }
}
@media (max-width:720px){
  .vault-screen{ gap: 10px; padding: 14px 12px }
  .vault-title{ font-size: clamp(1.6rem, 7vw, 2.2rem) }
}
@media (max-width:480px){
  .card, .product-card, .hub-panel { box-shadow: 0 8px 18px rgba(0,0,0,.5) }
}

.feature-card.has-art::after,
.img-btn.has-art::after,
.shop-promo.has-art::after { pointer-events:none!important }

@media (min-width:1024px){
  :root{ --gutter:20px; --gutter-lg:28px; --section-gap:32px }
  .container{ width:min(100% - 3rem, var(--max-w)) }
  .hub-dashboard{
    gap: var(--section-gap);
    padding: clamp(40px, 5vw, 64px) 24px calc(90px + env(safe-area-inset-bottom, 0px));
  }
  .hub-dashboard .balance-row{ gap: var(--gutter-lg) }
  .hub-dashboard .feature-grid{ gap: var(--gutter-lg) }
  .hub-panel{ margin-top: calc(var(--section-gap) + 6px) }
  .hub-panel-top{ padding: 16px 20px }
  .hub-panel-body{ padding: 22px }
  .trust-strip{ margin-top: 20px; gap: 16px }
  .shop-promo{ margin-top: var(--section-gap) }
  .product-grid{ gap: var(--gutter-lg) }
}

@keyframes swapIn {
  from { transform: scale(0.985); opacity: .0; filter: blur(2px) brightness(.8) }
  to   { transform: scale(1);     opacity: 1;  filter: blur(0)  brightness(1) }
}

/* Tiny floating chip to exit trade mode */
.swap-exit{
  position: fixed;
  inset-block-start: calc(var(--safe-top) + 10px);
  inset-inline-start: 10px;
  z-index: 102;
  padding: .55rem .8rem;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  backdrop-filter: blur(6px);
}
.swap-exit:hover{ transform: translateY(-1px); border-color: var(--cyan); box-shadow: var(--glow-cyan) }

.vault-section { display: grid; gap: 10px }
.vault-section + .vault-section { margin-top: 14px }
.vault-section .section-head { display: flex; align-items: baseline; gap: 10px }
.vault-section .section-head h3 { margin: 0 }
.vault-section .section-sub { opacity: .85; font-size: .95rem }

.v-divider {
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
  margin: 10px 0;
}

.finalizer-wrap { margin-top: 10px }
.finalizer-wrap .product-grid { grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)) }

@media (max-width: 420px){
  .swap-embed-wrap { min-block-size: 400px }
}

/* === 12. Simple landing variant (BUY/SWAP/SELL) ======================== */
.landing-simple{
  min-height: calc(100svh - var(--header-h));
  display:grid; place-items:center;
  padding: 24px 16px;
  background: var(--bg-hero-sm);
}
.landing-simple-inner{
  width:min(100%, 780px);
  display:grid; gap:18px; justify-items:center; text-align:center;
}
.logo-simple{ height: clamp(90px, 12vw, 120px); filter: drop-shadow(0 0 10px rgba(255,255,255,.7)) }
.hero-title{ margin:.25rem 0 0; font-size: clamp(1.6rem, 4.8vw, 2.4rem); letter-spacing:.04em }
.hero-sub{ margin:0; opacity:.85 }

.bss-row{
  display:grid;
  grid-template-columns: repeat(3, minmax(140px,1fr));
  gap:14px;
  margin: 10px 0 4px;
}
.bss-row--big .bss-btn{ padding: 1.15rem 1.4rem; font-size: clamp(1rem, 2.6vw, 1.25rem) }
.bss-btn{
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:16px;
  border:1px solid var(--stroke);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  font-weight:800; letter-spacing:.06em;
  transition:transform var(--t-fast), border-color var(--t-fast), box-shadow var(--t-fast);
  min-height:56px;
}
.bss-btn:hover{ transform:translateY(-1px) }
.bss-btn.buy  { border-color: rgba(17,241,167,.45); box-shadow: var(--glow-green) }
.bss-btn.swap { border-color: rgba(0,240,255,.45);  box-shadow: var(--glow-cyan) }
.bss-btn.sell { border-color: rgba(244,200,106,.45); box-shadow: var(--glow-gold) }
.hint{ opacity:.75; font-size:.95rem; margin-top: 4px }
@media (max-width:640px){ .bss-row{ grid-template-columns: 1fr } }

/* === 13. Identity Profile Card (centered) ============================== */
.id-card { width: 100%; display: grid; place-items: center; }
.id-card__inner{
  display:grid; justify-items:center; gap:10px;
  padding: 18px 16px;
  border:1px solid var(--stroke-2);
  border-radius: 20px;
  background: var(--glass);
  backdrop-filter: blur(var(--blur));
  box-shadow: 0 12px 40px rgba(0,0,0,.55), 0 0 40px rgba(0,255,200,.12);
  max-width: 560px;
  width: min(100%, 560px);
  animation: swapIn 480ms cubic-bezier(.22,.61,.36,1);
}
.id-card__logo{ height: 44px; filter: drop-shadow(0 0 8px rgba(255,255,255,.35)) }
.id-card__title{ margin: 2px 0 0; font-size: clamp(1.25rem, 3.8vw, 1.6rem); letter-spacing:.04em }
.id-card__sub{ margin: 0; opacity: .9; font-size:.95rem }
.id-card__chips{ display:flex; flex-wrap:wrap; justify-content:center; gap:8px; margin-top: 4px }
.id-card__status{ margin-top: 6px; font-size: .85rem; opacity: .85; display:flex; align-items:center; gap:8px }
.id-card__status .dot{ inline-size:10px; block-size:10px; border-radius:50% }
.id-card__status .ok{ background: var(--green) }
@media (max-width:640px){
  .id-card__inner{ width: calc(100% - 16px); padding: 16px 14px; border-radius: 16px }
  .id-card__chips .chip{ width: 100%; justify-content:center }
}

/* === 14. Crypto Generator Panel ======================================= */
.crypto-generator {
  min-height: calc(100svh - var(--header-h));
  display: grid;
  place-items: center;
  padding: clamp(24px, 5vw, 64px) 16px;
  background: var(--bg-hero);
}
.crypto-panel {
  width: min(100%, 720px);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
  border: 1px solid var(--stroke-2);
  border-radius: var(--r-lg);
  box-shadow: 0 20px 80px rgba(0,0,0,.7), var(--glow-gold);
  backdrop-filter: blur(var(--blur));
  padding: clamp(24px, 4vw, 36px);
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}
.crypto-panel .card {
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  border: 1px solid var(--stroke);
  border-radius: var(--r-md);
  padding: 1rem;
}
@media (max-width:640px){
  .crypto-panel { width: 100%; padding: 20px 16px; border-radius: var(--r-md) }
}
